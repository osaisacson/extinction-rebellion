{"version":3,"sources":["components/FooterNav.js","components/Story.js","components/Stories.js","components/Voting.js","components/DemandItem.js","components/Demands.js","components/AddAction.js","components/AddStory.js","components/AddDemand.js","components/EditDemand.js","components/AddEdit.js","components/DemandComponents/Description.js","components/DemandDetails.js","components/Search.js","components/Routes.js","App.js","serviceWorker.js","index.js"],"names":["FooterNav","props","state","actionsActive","homeActive","demandsActive","handleActionsClick","bind","handleHomeClick","handleDemandsClick","className","this","onClick","to","icon","faHandPointer","faSkullCrossbones","faFistRaised","faPlus","setState","Component","Story","handle","handleStateChange","e","twitterHandle","src","img","alt","city","country","Stories","isLoading","stories","updateTwitter","getStories","axios","get","then","response","sortedStories","data","sort","a","b","localeCompare","catch","err","console","log","twitterFeed","dataSource","sourceType","screenName","options","username","height","map","story","key","id","Voting","upvote","newVote","voteLimit","votes","isSent","isBeingDefined","editDemand","downvote","request","method","url","cardId","window","location","reload","history","push","showAsRebel","faMale","faPenFancy","faCaretUp","faCaretDown","React","DemandItem","card","demand","showEdit","edits","references","actions","getData","demandId","all","spread","editsArray","referencesArray","actionsArray","criteria","demandEdits","filter","item","demandReferences","demandActions","isSuggested","cardBackgroundType","as","Card","Header","length","faBook","faWrench","faHashtag","status","isRebel","title","summary","Demands","header","subheader","backgroundColor","demands","Body","Accordion","AddAction","newAction","alert","date","refs","value","time","name","telegram","addAction","preventDefault","href","onSubmit","type","ref","placeholder","htmlFor","AddStory","params","query","page","per_page","headers","Authorization","newStory","results","urls","small","twitter","AddDemand","newDemand","background","indicators","representative","representativeEmail","addDemand","style","width","EditDemand","handleInputChange","getDemandDetails","target","onChange","AddEdit","newEdit","editSummary","by","repesentative","addEdit","Description","postedBy","DemandDetails","currentDemandId","match","toggleEdit","delete","onDelete","defaultActiveKey","Tabs","Tab","eventKey","faEdit","edit","editVotes","action","joined","Search","search","updateSearch","Routes","axiosConfig","event","substr","filteredCards","indexOf","xrFactions","sentCards","suggestedCards","exact","path","render","component","App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","ReactDOM","document","getElementById","URL","process","origin","addEventListener","fetch","contentType","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.5ee9468c.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faFistRaised,\n  faPlus,\n  faSkullCrossbones,\n  faHandPointer\n} from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class FooterNav extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      actionsActive: \"\",\n      homeActive: \"currently-active\",\n      demandsActive: \"\"\n    };\n\n    this.handleActionsClick = this.handleActionsClick.bind(this);\n    this.handleHomeClick = this.handleHomeClick.bind(this);\n    this.handleDemandsClick = this.handleDemandsClick.bind(this);\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"footer-nav\">\n          <div\n            className={`icon-nav ${this.state.demandsActive}`}\n            onClick={this.handleDemandsClick}\n          >\n            <Link to=\"/suggested\">\n              <FontAwesomeIcon icon={faHandPointer} />\n            </Link>\n            <h6>Suggestions</h6>\n          </div>\n          <div\n            className={`icon-nav ${this.state.homeActive}`}\n            onClick={this.handleHomeClick}\n          >\n            <Link to=\"/\">\n              <FontAwesomeIcon icon={faSkullCrossbones} />\n            </Link>\n            <h6>What's up</h6>\n          </div>\n          <div\n            className={`icon-nav ${this.state.actionsActive}`}\n            onClick={this.handleActionsClick}\n          >\n            <Link to=\"/demands\">\n              <FontAwesomeIcon icon={faFistRaised} />\n            </Link>\n            <h6>Demands</h6>\n          </div>\n        </div>\n        <div className=\"add-nav\">\n          <Link to=\"/add-demand\">\n            <FontAwesomeIcon icon={faPlus} />\n          </Link>\n        </div>\n      </>\n    );\n  }\n\n  handleActionsClick() {\n    this.setState({\n      actionsActive: \"currently-active\",\n      homeActive: \"\",\n      demandsActive: \"\"\n    });\n  }\n\n  handleHomeClick() {\n    this.setState({\n      actionsActive: \"\",\n      homeActive: \"currently-active\",\n      demandsActive: \"\"\n    });\n  }\n\n  handleDemandsClick() {\n    this.setState({\n      actionsActive: \"\",\n      homeActive: \"\",\n      demandsActive: \"currently-active\"\n    });\n  }\n}\n","import React, { Component } from \"react\";\n// import axios from \"axios\";\n\nexport default class Story extends Component {\n  updateTwitter(handle) {\n    this.props.handleStateChange(handle);\n  }\n\n  render() {\n    return (\n      <button\n        className=\"story\"\n        onClick={e => this.props.onClick(this.props.twitterHandle)}\n      >\n        <div className=\"mask\">\n          <img src={this.props.img} alt=\"img\"></img>\n        </div>\n        <h5>{this.props.city}</h5>\n        <h5>{this.props.country}</h5>\n      </button>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Story from \"./Story\";\n// import { TwitterTimelineEmbed } from \"react-twitter-embed\";\nimport { Timeline } from \"react-twitter-widgets\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class Stories extends Component {\n  constructor() {\n    super();\n    this.state = {\n      twitterHandle: \"\",\n      isLoading: true,\n      stories: []\n    };\n    this.updateTwitter = this.updateTwitter.bind(this);\n  }\n\n  componentDidMount() {\n    this.getStories();\n  }\n\n  getStories() {\n    axios\n      .get(\"https://extinction-rebellion.herokuapp.com/api/stories\")\n      .then(response => {\n        let sortedStories = response.data.sort((a, b) =>\n          b.city.localeCompare(a.city)\n        );\n\n        this.setState({\n          stories: sortedStories,\n          isLoading: false\n        });\n      })\n      .catch(err => console.log(\"error in Stories.js:getStories()\", err));\n  }\n\n  // Update twitterfeed to the profile belonging to the clicked story\n  updateTwitter(handle) {\n    this.setState({ twitterHandle: handle });\n  }\n\n  render() {\n    const handle = this.state.twitterHandle;\n    let twitterFeed;\n\n    if (handle) {\n      twitterFeed = (\n        <Timeline\n          dataSource={{\n            sourceType: \"profile\",\n            screenName: handle\n          }}\n          options={{\n            username: handle,\n            height: \"2000\"\n          }}\n        />\n      );\n    } else {\n      twitterFeed = (\n        <Timeline\n          dataSource={{\n            sourceType: \"profile\",\n            screenName: \"ExtinctionR\"\n          }}\n          options={{\n            username: \"ExtinctionR\",\n            height: \"2000\"\n          }}\n        />\n      );\n    }\n\n    return (\n      <>\n        <div className=\"story-section stories-background-color\">\n          <div className=\"stories\">\n            <Link to=\"/add-story\">\n              <div className=\"add-button\">\n                <FontAwesomeIcon icon={faPlus} />\n              </div>\n            </Link>\n            {this.state.stories.map(story => {\n              return (\n                <Story\n                  key={story.id}\n                  twitterHandle={story.twitterHandle}\n                  onClick={this.updateTwitter}\n                  img={story.img}\n                  city={story.city}\n                  country={story.country}\n                ></Story>\n              );\n            })}\n          </div>\n        </div>\n        <div className=\"centerContent\">\n          <div className=\"selfCenter standardWidth\">{twitterFeed}</div>\n        </div>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport axios from \"axios\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faMale,\n  faPenFancy,\n  faCaretUp,\n  faCaretDown\n} from \"@fortawesome/free-solid-svg-icons\";\n\nexport class Voting extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      votes: this.props.votes\n    };\n  }\n\n  editDemand(newVote) {\n    axios\n      .request({\n        method: \"patch\",\n        url: `https://extinction-rebellion.herokuapp.com/api/demands/${this.props.cardId}`,\n        data: newVote\n      })\n      .then(response => {\n        window.location.reload();\n        this.props.history.push(\"/\");\n      })\n      .catch(err => console.log(\"Error from Voting.js:editDemand\", err));\n  }\n\n  upvote = () => {\n    let newVote;\n    if (this.props.voteLimit === this.state.votes - 1) {\n      newVote = {\n        isSent: true,\n        isBeingDefined: false,\n        votes: this.state.votes + 1\n      };\n    } else {\n      newVote = {\n        votes: this.state.votes + 1\n      };\n    }\n    this.editDemand(newVote);\n  };\n\n  downvote = () => {\n    const newVote = {\n      votes: this.state.votes - 1\n    };\n    this.editDemand(newVote);\n  };\n\n  render() {\n    return (\n      <div className=\"voting-section\">\n        {this.props.showAsRebel ? (\n          <div className=\"icon-section\">\n            <button className=\"fa-icons\" onClick={this.upvote}>\n              <h6>{this.state.votes}</h6>\n              <FontAwesomeIcon className=\"btn-icon\" icon={faMale} />\n            </button>\n          </div>\n        ) : this.props.isSent ? (\n          <div className=\"icon-section\">\n            <h6>{this.state.votes}</h6>\n            <FontAwesomeIcon\n              className=\"btn-icon\"\n              icon={faPenFancy}\n              onClick={this.upvote}\n            />\n          </div>\n        ) : (\n          <div className=\"icon-section\">\n            <FontAwesomeIcon\n              className=\"btn-icon\"\n              icon={faCaretUp}\n              onClick={this.upvote}\n            />\n            <h6>{this.state.votes}</h6>\n            <FontAwesomeIcon\n              className=\"btn-icon\"\n              icon={faCaretDown}\n              onClick={this.downvote}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\nexport default Voting;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport Card from \"react-bootstrap/Card\";\nimport { Link } from \"react-router-dom\";\n\nimport Voting from \"./Voting\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faBook,\n  faHashtag,\n  faFistRaised,\n  faWrench\n} from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class DemandItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      card: props.card,\n      demand: \"\",\n      isLoading: true,\n      showEdit: false,\n      edits: [],\n      references: [],\n      actions: [],\n      isSent: props.isSent\n    };\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData() {\n    let demandId = this.state.card.id;\n    axios\n      .all([\n        axios.get(\n          `https://extinction-rebellion.herokuapp.com/api/demands/${demandId}`\n        ),\n        axios.get(\"https://extinction-rebellion.herokuapp.com/api/edits\"),\n        axios.get(\"https://extinction-rebellion.herokuapp.com/api/references\"),\n        axios.get(\"https://extinction-rebellion.herokuapp.com/api/actions\")\n      ])\n      .then(\n        axios.spread((demand, edits, references, actions) => {\n          const editsArray = edits.data;\n          const referencesArray = references.data;\n          const actionsArray = actions.data;\n          const criteria = demandId;\n\n          const demandEdits = editsArray.filter(\n            item => item.demandId === criteria\n          );\n          const demandReferences = referencesArray.filter(\n            item => item.demandId === criteria\n          );\n          const demandActions = actionsArray.filter(\n            item => item.demandId === criteria\n          );\n\n          this.setState({\n            demand: demand.data,\n            edits: demandEdits,\n            references: demandReferences,\n            actions: demandActions,\n            isLoading: false\n          });\n        })\n      )\n      .catch(err => console.log(\"error in DemandItem.js:getData()\", err));\n  }\n\n  render() {\n    const { card, edits, references, actions } = this.state;\n\n    let isSuggested = card.isBeingDefined;\n    let cardBackgroundType = isSuggested ? \"suggested\" : \"sent\";\n\n    return (\n      <div className={`card-wrapper ${cardBackgroundType}`} key={card.id}>\n        <div className=\"flex-spread\">\n          <div className=\"card-indicators\">\n            <div as={Card.Header} className=\"icon-section\">\n              {card.isSent ? (\n                <>\n                  <h6>{edits ? edits.length : 0}</h6>\n                  <FontAwesomeIcon icon={faBook} />\n                </>\n              ) : (\n                <>\n                  <h6>{edits ? edits.length : 0}</h6>\n                  <FontAwesomeIcon icon={faWrench} />\n                </>\n              )}\n            </div>\n            <div as={Card.Header} className=\"icon-section\">\n              <h6>{references ? references.length : 0}</h6>\n              <FontAwesomeIcon icon={faHashtag} />\n            </div>\n            <div as={Card.Header} className=\"icon-section\">\n              <h6>{actions ? actions.length : 0}</h6>\n              <FontAwesomeIcon icon={faFistRaised} />\n            </div>\n          </div>\n\n          {/* Section with votes, appears outside toggle so can use the voting functionality */}\n          <Voting\n            votes={card.votes}\n            isSent={card.isSent}\n            cardId={card.id}\n            voteLimit={10}\n          />\n        </div>\n        <Card>\n          <Link to={`/demands/${card.id}`}>\n            <div className=\"demand-header\">\n              {/* Status */}\n              {!isSuggested && card.status ? (\n                <p className={`pill ${card.isRebel ? \"red\" : \"darkblue\"}`}>\n                  {card.status}\n                </p>\n              ) : null}\n              {/* Country */}\n              <h6>\n                {card.city}, <span className=\"bold\">{card.country}</span>\n              </h6>\n\n              {/* Main card header */}\n              <h5>{card.title}</h5>\n              <h6>{card.summary}</h6>\n            </div>\n\n            <div className=\"separator\"></div>\n          </Link>\n        </Card>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Accordion from \"react-bootstrap/Accordion\";\nimport Card from \"react-bootstrap/Card\";\n\nimport DemandItem from \"./DemandItem\";\n\nexport default class Demands extends Component {\n  render() {\n    const {\n      header,\n      subheader,\n      backgroundColor,\n      demands,\n      isSent,\n      isSuggested\n    } = this.props;\n\n    return (\n      <div className=\"demand-section\">\n        <Card>\n          <div className={`demand-section-header ${backgroundColor}`}>\n            <h2>\n              {header} ({demands.length || 0})\n            </h2>\n            <div className=\"tight-header no-margin\">\n              <p>{subheader}</p>\n            </div>\n          </div>\n          {/* Collapsed accordion section with all demands in the set */}\n          <Card.Body>\n            <Accordion>\n              {!demands.length ? (\n                <div className=\"tight-header\">\n                  <p className=\"text-center\">(Nothing here yet.)</p>\n                </div>\n              ) : null}\n              {demands.map(card => {\n                return (\n                  <DemandItem\n                    key={card.id}\n                    card={card}\n                    isSent={isSent}\n                    isSuggested={isSuggested}\n                  ></DemandItem>\n                );\n              })}\n            </Accordion>\n          </Card.Body>\n        </Card>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nexport default class AddAction extends Component {\n  addAction(newAction) {\n    axios\n      .request({\n        method: \"post\",\n        url: \"https://extinction-rebellion.herokuapp.com/api/actions\",\n        data: newAction\n      })\n      .then(response => {\n        alert(\"Saved!\");\n        window.location.reload();\n      })\n      .catch(err => console.log(\"Error from AddAction.js:addAction\", err));\n  }\n\n  onSubmit(e) {\n    const newAction = {\n      demandId: this.props.demandId,\n      date: this.refs.date.value,\n      time: this.refs.time.value,\n      name: this.refs.name.value,\n      telegram: this.refs.telegram.value\n    };\n    console.log(\"newAction\", newAction);\n\n    this.addAction(newAction);\n    e.preventDefault();\n  }\n\n  render() {\n    return (\n      <>\n        <h6>\n          Create new action. Handle all communication for this action via\n          telegram, so start by{\" \"}\n          <a href=\"https://blog.en.uptodown.com/how-to-create-groups-and-channels-telegram/\">\n            creating a group on telegram\n          </a>{\" \"}\n          and adding the name of it below.\n        </h6>\n        <form onSubmit={this.onSubmit.bind(this)}>\n          <div className=\"flex-spread\">\n            <div className=\"form-group\">\n              <input\n                className=\"form-input\"\n                type=\"text\"\n                name=\"date\"\n                ref=\"date\"\n                placeholder=\"Date of action\"\n              />\n              <label htmlFor=\"date\"></label>\n            </div>\n            <div className=\"form-group\">\n              <input type=\"text\" name=\"time\" ref=\"time\" placeholder=\"time\" />\n              <label htmlFor=\"time\"></label>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              name=\"name\"\n              ref=\"name\"\n              placeholder=\"Name of action\"\n            />\n            <label htmlFor=\"name\"></label>\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              name=\"telegram\"\n              ref=\"telegram\"\n              placeholder=\"Telegram group name\"\n            />\n            <label htmlFor=\"telegram\"></label>\n          </div>\n          <input\n            className=\"form-input tweak-background-color btn\"\n            type=\"submit\"\n            value=\"Add new action\"\n          />\n        </form>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default class AddStory extends Component {\n  onSubmit(e) {\n    axios\n      .get(\"https://api.unsplash.com/search/photos\", {\n        params: { query: this.refs.city.value },\n        page: 1,\n        per_page: 1,\n        headers: {\n          Authorization:\n            \"Client-ID cb32c91579c47c9f70fd331095157ba5134b18d039ce6980b4403f3d8a9b6000\"\n        }\n      })\n      .then(response => {\n        let cityPic =\n          response.data.results.length > 0\n            ? response.data.results[0].urls.small\n            : \"https://images.unsplash.com/photo-1571238052771-c6e35627d337?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=190&q=80\";\n\n        const newStory = {\n          img: cityPic,\n          city: this.refs.city.value,\n          country: this.refs.country.value,\n          twitterHandle: this.refs.twitter.value\n        };\n\n        axios\n          .request({\n            method: \"post\",\n            url: \"https://extinction-rebellion.herokuapp.com/api/stories\",\n            data: newStory\n          })\n          .then(response => {\n            this.props.history.push(\"/\");\n          })\n          .catch(err => console.log(\"Error from StoriesAdd.js:addStory\", err));\n      });\n\n    e.preventDefault();\n  }\n\n  render() {\n    return (\n      <>\n        <Link className=\"btn grey\" to=\"/\">\n          Back\n        </Link>\n        <Card className=\"add-story\">\n          <h6>Add a new XR faction.</h6>\n\n          <form onSubmit={this.onSubmit.bind(this)}>\n            <div className=\"flex-spread\">\n              <div className=\"form-group\">\n                <input\n                  className=\"form-input\"\n                  type=\"text\"\n                  name=\"city\"\n                  ref=\"city\"\n                  placeholder=\"City\"\n                />\n                <label htmlFor=\"city\"></label>\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  name=\"country\"\n                  ref=\"country\"\n                  placeholder=\"Country\"\n                />\n                <label htmlFor=\"country\"></label>\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                name=\"twitter\"\n                ref=\"twitter\"\n                placeholder=\"Twitter Handle\"\n              />\n              <label htmlFor=\"twitter\"></label>\n            </div>\n            <input\n              className=\"form-input tweak-background-color btn float-right\"\n              type=\"submit\"\n              value=\"Add new XR faction\"\n            />\n          </form>\n          <br></br>\n        </Card>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default class AddDemand extends Component {\n  addDemand(newDemand) {\n    axios\n      .request({\n        method: \"post\",\n        url: \"https://extinction-rebellion.herokuapp.com/api/demands\",\n        data: newDemand\n      })\n      .then(response => {\n        window.location.reload();\n        this.props.history.push(\"/\");\n        console.log(response);\n      })\n      .catch(err => console.log(\"Error from AddDemand.js:addDemand\", err));\n  }\n\n  onSubmit(e) {\n    const newDemand = {\n      isBeingDefined: true,\n      title: this.refs.title.value || \"No title yet\",\n      city: this.refs.city.value || \"No city yet\",\n      country: this.refs.country.value || \"No country yet\",\n      summary: this.refs.summary.value || \"No summary yet\",\n      background: this.refs.background.value || \"No background yet\",\n      indicators: this.refs.indicators.value || \"No indicators yet\",\n      representative: this.refs.representative.value || \"No representative yet\",\n      representativeEmail:\n        this.refs.representativeEmail.value ||\n        \"No email for the representative yet\"\n    };\n    this.addDemand(newDemand);\n    e.preventDefault();\n  }\n\n  render() {\n    return (\n      <>\n        <Link className=\"btn grey\" to=\"/\">\n          Back\n        </Link>\n        <Card className=\"add-demand\">\n          <h6>\n            Start a new demand. It does not have to be perfect, we can make it\n            great together afterwards.\n          </h6>\n\n          <form onSubmit={this.onSubmit.bind(this)}>\n            <div className=\"form-group\">\n              <input\n                className=\"form-input\"\n                type=\"text\"\n                name=\"title\"\n                ref=\"title\"\n                placeholder=\"Title\"\n              />\n              <label htmlFor=\"title\"></label>\n            </div>\n            <div className=\"flex-spread\">\n              <div className=\"form-group\">\n                <input\n                  className=\"form-input\"\n                  type=\"text\"\n                  name=\"city\"\n                  ref=\"city\"\n                  placeholder=\"City\"\n                />\n                <label htmlFor=\"city\"></label>\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  name=\"country\"\n                  ref=\"country\"\n                  placeholder=\"Country\"\n                />\n                <label htmlFor=\"country\"></label>\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                name=\"summary\"\n                ref=\"summary\"\n                placeholder=\"Summary\"\n              />\n              <label htmlFor=\"summary\"></label>\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                name=\"background\"\n                ref=\"background\"\n                placeholder=\"Background\"\n              />\n              <label htmlFor=\"background\"></label>\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                name=\"indicators\"\n                ref=\"indicators\"\n                placeholder=\"Indicators\"\n              />\n              <label htmlFor=\"indicators\"></label>\n            </div>\n            <br></br>\n            <h6>\n              <span className=\"bold\">Representative</span> to send the demand to\n              once it has been defined and accepted by the group. This should be\n              the person who has the authority to raise this issue in\n              parliament. If you don't know who, leave it blank for now.\n            </h6>\n            <div className=\"flex-spread\">\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  name=\"representative\"\n                  ref=\"representative\"\n                  placeholder=\"Rep name\"\n                />\n                <label htmlFor=\"representative\"></label>\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  name=\"representativeEmail\"\n                  ref=\"representativeEmail\"\n                  placeholder=\"Email\"\n                />\n                <label htmlFor=\"representativeEmail\"></label>\n              </div>\n            </div>\n\n            <br></br>\n            <h6>One time linking setup:</h6>\n            <div className=\"list-group-item\">\n              <input\n                type=\"checkbox\"\n                ref=\"createdTwitter\"\n                style={{\n                  height: 16,\n                  width: 16\n                }}\n              />\n              <span>\n                Create a new account on Twitter called{\" \"}\n                <span className=\"bold\">@xr110references</span>, after this\n                initial setup you will not need to touch it again.\n              </span>\n            </div>\n            <div className=\"list-group-item\">\n              <input\n                type=\"checkbox\"\n                ref=\"createdIFTTT\"\n                style={{\n                  height: 16,\n                  width: 16\n                }}\n              />\n              <span>\n                Create an account at{\" \"}\n                <a className=\"bold\" href=\"https://iftt.com\">\n                  IFTTT\n                </a>\n              </span>\n            </div>\n            <div className=\"list-group-item\">\n              <input\n                type=\"checkbox\"\n                ref=\"createdScript\"\n                style={{\n                  height: 16,\n                  width: 16\n                }}\n              />\n              <span>\n                Setup autotweeting all Tweets with #xr110 through this{\" \"}\n                <a\n                  className=\"bold\"\n                  href=\"https://ifttt.com/applets/SMvaxczG-if-hashtag-then-retweet-it\"\n                >\n                  IFTTT recipe.\n                </a>\n              </span>\n            </div>\n            <p>\n              Hurray! Now all Tweets anyone does with #xr110 gets automatically\n              pulled into the # section of your new petition. You won't have to\n              do anything.\n            </p>\n            <input\n              className=\"form-input tweak-background-color btn float-right\"\n              type=\"submit\"\n              value=\"Add new demand\"\n            />\n          </form>\n          <br></br>\n          <br></br>\n        </Card>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport axios from \"axios\";\n\nexport default class EditDemand extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isBeingDefined: true, //this should be dealt with differently, should only be true if the demand does not meet certain criteria (TBD)\n      title: \"\",\n      city: \"\",\n      country: \"\",\n      summary: \"\",\n      background: \"\",\n      indicators: \"\",\n      representative: \"\",\n      representativeEmail: \"\"\n    };\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getDemandDetails();\n  }\n\n  getDemandDetails() {\n    let demandId = this.props.demandId;\n    axios\n      .get(`https://extinction-rebellion.herokuapp.com/api/demands/${demandId}`)\n      .then(response => {\n        this.setState({\n          id: response.data.id,\n          title: response.data.title,\n          city: response.data.city,\n          country: response.data.country,\n          summary: response.data.summary,\n          background: response.data.background,\n          indicators: response.data.indicators,\n          representative: response.data.representative,\n          representativeEmail: response.data.representativeEmail\n        });\n      })\n      .catch(err =>\n        console.log(\"Error from EditDemand.js:getDemandDetails\", err)\n      );\n  }\n\n  editDemand(newDemand) {\n    axios\n      .request({\n        method: \"put\",\n        url: `https://extinction-rebellion.herokuapp.com/api/demands/${this.state.id}`,\n        data: newDemand\n      })\n      .then(response => {\n        alert(\"Saved\");\n        window.location.reload();\n        this.props.history.push(\"/\");\n        console.log(response);\n      })\n      .catch(err => console.log(\"Error from EditDemand.js:editDemand\", err));\n  }\n\n  onSubmit(e) {\n    const newDemand = {\n      isBeingDefined: true,\n      title: this.refs.title.value,\n      city: this.refs.city.value,\n      country: this.refs.country.value,\n      summary: this.refs.summary.value,\n      background: this.refs.background.value,\n      indicators: this.refs.indicators.value,\n      representative: this.refs.representative.value,\n      representativeEmail: this.refs.representativeEmail.value\n    };\n    this.editDemand(newDemand);\n    e.preventDefault();\n  }\n\n  handleInputChange(e) {\n    const target = e.target;\n    const value = target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    return (\n      <>\n        {/* <Link className=\"btn grey\" to=\"/\">\n          Back\n        </Link> */}\n        <Card className=\"add-demand\">\n          <form onSubmit={this.onSubmit.bind(this)}>\n            <div className=\"form-group\">\n              <input\n                className=\"form-input\"\n                type=\"text\"\n                name=\"title\"\n                ref=\"title\"\n                placeholder=\"Title\"\n                value={this.state.title}\n                onChange={this.handleInputChange}\n              />\n              <label htmlFor=\"title\"></label>\n            </div>\n            <div className=\"flex-spread\">\n              <div className=\"form-group\">\n                <input\n                  className=\"form-input\"\n                  type=\"text\"\n                  name=\"city\"\n                  ref=\"city\"\n                  placeholder=\"City\"\n                  value={this.state.city}\n                  onChange={this.handleInputChange}\n                />\n                <label htmlFor=\"city\"></label>\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  name=\"country\"\n                  ref=\"country\"\n                  placeholder=\"Country\"\n                  value={this.state.country}\n                  onChange={this.handleInputChange}\n                />\n                <label htmlFor=\"country\"></label>\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                name=\"summary\"\n                ref=\"summary\"\n                placeholder=\"Summary\"\n                value={this.state.summary}\n                onChange={this.handleInputChange}\n              />\n              <label htmlFor=\"summary\"></label>\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                name=\"background\"\n                ref=\"background\"\n                placeholder=\"Background\"\n                value={this.state.background}\n                onChange={this.handleInputChange}\n              />\n              <label htmlFor=\"background\"></label>\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                name=\"indicators\"\n                ref=\"indicators\"\n                placeholder=\"Indicators\"\n                value={this.state.indicators}\n                onChange={this.handleInputChange}\n              />\n              <label htmlFor=\"indicators\"></label>\n            </div>\n            <br></br>\n\n            <div className=\"flex-spread\">\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  name=\"representative\"\n                  ref=\"representative\"\n                  placeholder=\"Rep name\"\n                  value={this.state.representative}\n                  onChange={this.handleInputChange}\n                />\n                <label htmlFor=\"representative\"></label>\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  name=\"representativeEmail\"\n                  ref=\"representativeEmail\"\n                  placeholder=\"Email\"\n                  value={this.state.representativeEmail}\n                  onChange={this.handleInputChange}\n                />\n                <label htmlFor=\"representativeEmail\"></label>\n              </div>\n            </div>\n\n            <input\n              className=\"form-input tweak-background-color btn float-right\"\n              type=\"submit\"\n              value=\"Save\"\n            />\n          </form>\n          <br></br>\n          <br></br>\n        </Card>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nexport default class AddEdit extends Component {\n  addEdit(newEdit) {\n    axios\n      .request({\n        method: \"post\",\n        url: \"https://extinction-rebellion.herokuapp.com/api/edits\",\n        data: newEdit\n      })\n      .then(response => {\n        alert(\"Saved!\");\n        window.location.reload();\n      })\n      .catch(err => console.log(\"Error from AddEdit.js:addEdit\", err));\n  }\n\n  onSubmit(e) {\n    const demand = this.props.demand;\n    const newEdit = {\n      demandId: demand.id,\n      editSummary: this.refs.editSummary.value,\n      by: this.refs.by.value,\n      country: this.refs.country.value\n        ? this.refs.country.value\n        : demand.country,\n      city: this.refs.city.value ? this.refs.city.value : demand.city,\n      title: this.refs.title.value ? this.refs.title.value : demand.title,\n      summary: this.refs.summary.value\n        ? this.refs.summary.value\n        : demand.summary,\n      background: this.refs.background.value\n        ? this.refs.background.value\n        : demand.background,\n      indicators: this.refs.indicators.value\n        ? this.refs.indicators.value\n        : demand.indicators,\n      representative: this.refs.representative.value\n        ? this.refs.representative.value\n        : demand.repesentative,\n      representativeEmail: this.refs.representativeEmail.value\n        ? this.refs.representativeEmail.value\n        : demand.representativeEmail\n    };\n    console.log(\"newEdit\", newEdit);\n\n    this.addEdit(newEdit);\n    e.preventDefault();\n  }\n\n  render() {\n    return (\n      <>\n        <h6>\n          Add a new edit here. Once it reaches 10 upvotes it will be\n          automatically inserted in the demand.\n        </h6>\n        <form onSubmit={this.onSubmit.bind(this)}>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              name=\"editSummary\"\n              ref=\"editSummary\"\n              placeholder=\"Edit Summary*\"\n            />\n            <label htmlFor=\"editSummary\"></label>\n          </div>\n          <div className=\"form-group\">\n            <input\n              className=\"form-input\"\n              type=\"text\"\n              name=\"by\"\n              ref=\"by\"\n              placeholder=\"By whom*\"\n            />\n            <label htmlFor=\"by\"></label>\n          </div>\n          <div className=\"flex-spread\">\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                name=\"country\"\n                ref=\"country\"\n                placeholder=\"Country\"\n              />\n              <label htmlFor=\"country\"></label>\n            </div>\n            <div className=\"form-group\">\n              <input type=\"text\" name=\"city\" ref=\"city\" placeholder=\"City\" />\n              <label htmlFor=\"city\"></label>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <input type=\"text\" name=\"title\" ref=\"title\" placeholder=\"Title\" />\n            <label htmlFor=\"title\"></label>\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              name=\"summary\"\n              ref=\"summary\"\n              placeholder=\"Summary\"\n            />\n            <label htmlFor=\"summary\"></label>\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              name=\"background\"\n              ref=\"background\"\n              placeholder=\"Background\"\n            />\n            <label htmlFor=\"background\"></label>\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              name=\"indicators\"\n              ref=\"indicators\"\n              placeholder=\"Indicators\"\n            />\n            <label htmlFor=\"indicators\"></label>\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              name=\"representative\"\n              ref=\"representative\"\n              placeholder=\"Representative\"\n            />\n            <label htmlFor=\"representative\"></label>\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              name=\"representativeEmail\"\n              ref=\"representativeEmail\"\n              placeholder=\"Representative Email\"\n            />\n            <label htmlFor=\"representativeEmail\"></label>\n          </div>\n          <input\n            className=\"form-input tweak-background-color btn\"\n            type=\"submit\"\n            value=\"Add new Edit\"\n          />\n        </form>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n// import Edit from \"./Edit\";\n// import axios from \"axios\";\n\nexport default class Description extends Component {\n  render() {\n    const { demand } = this.props;\n\n    return (\n      <>\n        {/* Show if the demand is completed*/}\n        {demand.isSent ? (\n          <>\n            <h6>\n              This demand was made collaboratively. Once it reached 100 votes it\n              got sent to the representative.\n            </h6>\n            <div className=\"separator\"></div>\n          </>\n        ) : (\n          <h6>Being defined. Edit and add below.</h6>\n        )}\n        {/* Show if demand is in the suggested state */}\n        <>\n          <div className=\"small-card-header\">\n            <div className=\"tight-header\">\n              <p className=\"grey\">By: {demand.postedBy}</p>\n            </div>\n            <div>\n              <div className=\"tight-header\">\n                <p>Responsible representative</p>\n                <p className=\"bold\">{demand.representative}</p>\n              </div>\n            </div>\n          </div>\n          <h6 className=\"bold\">Country</h6>\n          <p>{demand.country}</p>\n          <h6 className=\"bold\">City</h6>\n          <p>{demand.city}</p>\n          <h6 className=\"bold\">Summary</h6>\n          <p>{demand.summary}</p>\n          <h6 className=\"bold\">Background</h6>\n          <p>{demand.background}</p>\n          <h6 className=\"bold\">Indicators</h6>\n          <p>{demand.indicators}</p>\n        </>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport Accordion from \"react-bootstrap/Accordion\";\nimport { Tabs, Tab } from \"react-bootstrap\";\n\nimport Card from \"react-bootstrap/Card\";\nimport { Link } from \"react-router-dom\";\n\nimport AddAction from \"./AddAction\";\nimport AddEdit from \"./AddEdit\";\n\nimport EditDemand from \"./EditDemand\";\n\nimport Description from \"./DemandComponents/Description\";\n\nimport Voting from \"./Voting\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faBook,\n  faEdit,\n  faHashtag,\n  faFistRaised,\n  faWrench\n} from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class DemandDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      demand: \"\",\n      isLoading: true,\n      showEdit: false,\n      edits: [],\n      references: [],\n      actions: [],\n      currentDemandId: props.match.params.id\n    };\n\n    this.toggleEdit = this.toggleEdit.bind(this);\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData() {\n    let demandId = this.props.match.params.id;\n    axios\n      .all([\n        axios.get(\n          `https://extinction-rebellion.herokuapp.com/api/demands/${demandId}`\n        ),\n        axios.get(\"https://extinction-rebellion.herokuapp.com/api/edits\"),\n        axios.get(\"https://extinction-rebellion.herokuapp.com/api/references\"),\n        axios.get(\"https://extinction-rebellion.herokuapp.com/api/actions\")\n      ])\n      .then(\n        axios.spread((demand, edits, references, actions) => {\n          const editsArray = edits.data;\n          const referencesArray = references.data;\n          const actionsArray = actions.data;\n          const criteria = this.state.currentDemandId;\n\n          const demandEdits = editsArray.filter(\n            item => item.demandId === criteria\n          );\n          const demandReferences = referencesArray.filter(\n            item => item.demandId === criteria\n          );\n          const demandActions = actionsArray.filter(\n            item => item.demandId === criteria\n          );\n\n          this.setState({\n            demand: demand.data,\n            edits: demandEdits,\n            references: demandReferences,\n            actions: demandActions,\n            isLoading: false\n          });\n        })\n      )\n      .catch(err => console.log(\"error in DemandDetails.js:getData()\", err));\n  }\n\n  onDelete() {\n    let demandId = this.state.demand.id;\n    axios\n      .delete(\n        `https://extinction-rebellion.herokuapp.com/api/demands/${demandId}`\n      )\n      .then(response => {\n        this.props.history.push(\"/\");\n      })\n      .catch(err => console.log(\"Error from DemandDetails.js:onDelete\", err));\n  }\n\n  toggleEdit(e) {\n    this.setState({ showEdit: !this.state.showEdit });\n  }\n\n  render() {\n    const { demand, edits, references, actions, showEdit } = this.state;\n\n    let cardBackgroundType = demand.isBeingDefined ? \"suggested\" : \"sent\";\n\n    return (\n      <>\n        {/* Back, edit, delete */}\n        <Link className=\"btn grey\" to={\"/\"}>\n          Back\n        </Link>\n        <button onClick={this.onDelete.bind(this)} className=\"btn red light\">\n          Delete\n        </button>\n\n        {/* Details for item */}\n        <div className={`card-wrapper ${cardBackgroundType}`} key={demand.id}>\n          {/* Section with votes, appears outside toggle so can use the voting functionality */}\n          <Voting\n            votes={demand.votes}\n            isSent={demand.isSent}\n            cardId={demand.id}\n            voteLimit={10}\n          />\n\n          <Accordion defaultActiveKey=\"0\">\n            <Card>\n              <div className=\"demand-header\">\n                {/* Country */}\n                <h6>\n                  {demand.city}, <span className=\"bold\">{demand.country}</span>\n                </h6>\n\n                {/* Main card header */}\n                <h5>{demand.title}</h5>\n              </div>\n              <div className=\"separator\"></div>\n\n              <Tabs defaultActiveKey={1}>\n                <Tab\n                  eventKey={1}\n                  title={\n                    <span className=\"icon-section card-header\">\n                      {demand.isSent ? (\n                        <>\n                          <h6>{edits ? edits.length : 0}</h6>\n                          <FontAwesomeIcon icon={faBook} />\n                        </>\n                      ) : (\n                        <>\n                          <h6>{edits ? edits.length : 0}</h6>\n                          <FontAwesomeIcon icon={faWrench} />\n                        </>\n                      )}{\" \"}\n                    </span>\n                  }\n                >\n                  <Card.Body className={cardBackgroundType}>\n                    <div>\n                      {/* Summary section*/}\n                      {!demand.isSent ? (\n                        <>\n                          {/* Toggles the editing section of the demand */}\n                          <div\n                            className=\"edit-btn\"\n                            onClick={e => this.toggleEdit(e)}\n                          >\n                            <FontAwesomeIcon icon={faEdit} />\n                          </div>\n                          {/* Editing section of the demand */}\n                          {showEdit ? (\n                            <EditDemand demandId={demand.id} />\n                          ) : null}\n                        </>\n                      ) : (\n                        <Description demand={demand} />\n                      )}\n                    </div>\n\n                    {edits ? (\n                      <>\n                        <h6>\n                          Add your proposed edit below. Once it reaches 10\n                          upvotes it will automatically update the demand.\n                        </h6>\n                        {edits.map(edit => {\n                          return (\n                            <div className=\"rebel-card\" key={edit.id}>\n                              {/* Joined people */}\n                              <Voting\n                                voteLimit={10}\n                                votes={edit.editVotes ? edit.editVotes : 0}\n                              ></Voting>\n                              <div className=\"rebel-content\">\n                                <div>\n                                  <>\n                                    <h6>{edit.editSummary}</h6>\n                                    <div className=\"tight-header\">\n                                      <p className=\"grey\">By: {edit.by}</p>\n                                      <br></br>\n                                      <div>\n                                        <p className=\"bold\">\n                                          Responsible representative\n                                        </p>\n                                        <p> {edit.representative}</p>\n                                      </div>\n                                      <div>\n                                        <p className=\"bold\">\n                                          Representative email\n                                        </p>\n                                        <p> {edit.representativeEmail}</p>\n                                      </div>\n                                      <div>\n                                        <p className=\"bold\">Country</p>\n                                        <p>{edit.country}</p>\n                                      </div>\n                                      <div>\n                                        <p className=\"bold\">City</p>\n                                        <p>{edit.city}</p>\n                                      </div>\n                                      <div>\n                                        <p className=\"bold\">Summary</p>\n                                        <p>{edit.summary}</p>\n                                      </div>\n                                      <div>\n                                        <p className=\"bold\">Background</p>\n                                        <p>{edit.background}</p>\n                                      </div>\n                                      <div>\n                                        <p className=\"bold\">Indicators</p>\n                                        <p>{edit.indicators}</p>\n                                      </div>\n                                    </div>\n                                  </>\n                                </div>\n                              </div>\n                            </div>\n                          );\n                        })}\n                      </>\n                    ) : null}\n                    {!edits ? (\n                      <>\n                        <br></br>\n                        <h6>There are no edits yet, start one below</h6>\n                      </>\n                    ) : null}\n                    <div className=\"separator\"></div>\n                    <br></br>\n                    {/* Add new action */}\n                    <AddEdit demand={demand} />\n\n                    <br></br>\n                  </Card.Body>\n                </Tab>\n                <Tab\n                  eventKey={2}\n                  title={\n                    <span className=\"icon-section card-header\">\n                      {\" \"}\n                      <h6>{references ? references.length : 0}</h6>\n                      <FontAwesomeIcon icon={faHashtag} />\n                    </span>\n                  }\n                >\n                  <Card.Body className={cardBackgroundType}>\n                    <h6>\n                      To add references that support this demand: Your tweet\n                      will automatically be pulled into the feed below.\n                    </h6>\n                    {/* <References hashtag={demand.id} /> */}\n                  </Card.Body>{\" \"}\n                </Tab>\n                <Tab\n                  eventKey={3}\n                  title={\n                    <span className=\"icon-section card-header\">\n                      {\" \"}\n                      <h6>{actions ? actions.length : 0}</h6>\n                      <FontAwesomeIcon icon={faFistRaised} />\n                    </span>\n                  }\n                >\n                  <Card.Body className={cardBackgroundType}>\n                    {actions ? (\n                      <>\n                        <h6>\n                          Join by clicking the join button on the right of the\n                          action, you'll get sent a telegram invitation with\n                          more info.\n                        </h6>\n                        {actions.map(action => {\n                          return (\n                            <div className=\"rebel-card\" key={action.id}>\n                              {/* Joined people */}\n                              <Voting\n                                showAsRebel={true}\n                                votes={action.joined ? action.joined : 0}\n                              ></Voting>\n                              <div className=\"rebel-content\">\n                                <div>\n                                  <h6 className=\"bold\">\n                                    {action.date}, {action.time}\n                                  </h6>\n                                  <h6>{action.name}</h6>\n                                </div>\n                              </div>\n                            </div>\n                          );\n                        })}\n                      </>\n                    ) : null}\n                    {!actions ? (\n                      <>\n                        <br></br>\n                        <h6>There are no actions yet, start one below</h6>\n                      </>\n                    ) : null}\n                    <div className=\"separator\"></div>\n                    <br></br>\n                    {/* Add new action */}\n                    <AddAction demandId={demand.id} />\n                    {/* <Link to={`/${demand.id}/add-action`}>\n                        <div className=\"add-button\">\n                          <FontAwesomeIcon icon={faPlus} />\n                        </div>\n                      </Link> */}\n                    <br></br>\n                  </Card.Body>{\" \"}\n                </Tab>\n              </Tabs>\n            </Card>\n          </Accordion>\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class Search extends Component {\n  render() {\n    return (\n      <input\n        className=\"search-filter\"\n        type=\"text\"\n        placeholder=\"Choose Country\"\n        value={this.props.search}\n        onChange={this.props.updateSearch}\n      ></input>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"../sass/main.scss\";\nimport axios from \"axios\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Stories from \"./Stories\";\nimport Demands from \"./Demands\";\nimport AddAction from \"./AddAction\";\nimport AddStory from \"./AddStory\";\nimport AddDemand from \"./AddDemand\";\nimport EditDemand from \"./EditDemand\";\n\nimport DemandDetails from \"./DemandDetails\";\nimport Search from \"./Search\";\n\nexport default class Routes extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoading: true,\n      demands: [],\n      stories: [],\n      search: \"\"\n    };\n\n    this.updateSearch = this.updateSearch.bind(this);\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData() {\n    let axiosConfig = {\n      headers: {\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        \"Access-Control-Allow-Origin\": \"*\"\n      }\n    };\n\n    axios\n      .all([\n        axios.get(\n          \"https://extinction-rebellion.herokuapp.com/api/stories\",\n          {},\n          axiosConfig\n        ),\n        axios.get(\n          \"https://extinction-rebellion.herokuapp.com/api/demands\",\n          {},\n          axiosConfig\n        )\n      ])\n      .then(\n        axios.spread((stories, demands) => {\n          this.setState({\n            stories: stories.data,\n            demands: demands.data,\n            isLoading: false\n          });\n        })\n      )\n      .catch(err => console.log(\"error in Routes.js:getData()\", err));\n  }\n\n  updateSearch(event) {\n    this.setState({\n      search: event.target.value.substr(0, 20)\n    });\n  }\n\n  render() {\n    const { isLoading, demands, stories, search } = this.state;\n\n    //Return only demands which country name matches what's entered in the search field\n    let filteredCards = demands.filter(card => {\n      return card.country.indexOf(search) !== -1;\n    });\n\n    let xrFactions = stories.filter(story => {\n      return story.country.indexOf(search) !== -1;\n    });\n\n    // Define subsets of main card set\n    let sentCards = filteredCards.filter(card => card.isSent);\n    let suggestedCards = filteredCards.filter(card => card.isBeingDefined);\n\n    return (\n      <main>\n        {!isLoading ? (\n          <>\n            {/* Searchfield */}\n            <Search search={search} updateSearch={this.updateSearch}></Search>\n            <Switch>\n              <Route\n                exact\n                path=\"/\"\n                render={props => (\n                  <Stories {...props} stories={xrFactions} search={search} />\n                )}\n              ></Route>\n\n              <Route\n                exact\n                path=\"/demands\"\n                render={props => (\n                  <Demands\n                    {...props}\n                    demands={sentCards}\n                    search={search}\n                    header=\"DEMANDS\"\n                    subheader=\"Active demands that have been sent to parliament. Sign the ones you support below and join actions to push them through ASAP.\"\n                    backgroundColor=\"action-background-color\"\n                    eventKey=\"0\"\n                    isSent={true}\n                  />\n                )}\n              ></Route>\n              <Route exact path=\"/:id/add-action\" component={AddAction}></Route>\n              <Route exact path=\"/add-story\" component={AddStory}></Route>\n              <Route exact path=\"/add-demand\" component={AddDemand}></Route>\n              <Route\n                exact\n                path=\"/demands/edit/:id\"\n                component={EditDemand}\n              ></Route>\n              <Route\n                exact\n                path=\"/demands/:id\"\n                component={DemandDetails}\n              ></Route>\n              <Route\n                exact\n                path=\"/suggested\"\n                render={props => (\n                  <Demands\n                    {...props}\n                    demands={suggestedCards}\n                    search={search}\n                    header=\"SUGGESTIONS\"\n                    subheader=\"Suggested demands. Collaboratively flesh them out here.\"\n                    backgroundColor=\"tweak-background-color\"\n                    eventKey=\"1\"\n                    isSuggested={true}\n                  />\n                )}\n              ></Route>\n              {/* <Route exact path=\"/suggested/:id\" component={SuggestedDetail}></Route> */}\n            </Switch>\n          </>\n        ) : (\n          <h3>Loading...</h3>\n        )}\n      </main>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./sass/main.scss\";\nimport { Link } from \"react-router-dom\";\nimport FooterNav from \"./components/FooterNav\";\nimport Routes from \"./components/Routes\";\n\nconst App = () => (\n  <>\n    <div className=\"app\">\n      <div className=\"app-container\">\n        {/* Header, shows regardless of which page we are on. Links back to '/' (Factions) */}\n        <header>\n          <Link to=\"/\">\n            <img src={\"/xr-logo.png\"} className=\"logo\" alt=\"logo\" />\n          </Link>\n        </header>\n        <Routes />\n      </div>\n    </div>\n    <FooterNav />\n  </>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://create-react-app.dev/docs/making-a-progressive-web-app/\nserviceWorker.register();\n"],"sourceRoot":""}